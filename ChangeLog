commit 629f7112ec77ddd6732ae00378ccf1b7283cbeec
Author: Stuart Auchterlonie <stuarta@squashedfrog.net>
Date:   Tue Sep 23 17:35:32 2014 +0100

    Handle [HD] in UK EIT fixups part 2
    44c85ad369a9d2bd564728a65f4f8b1164df2483 didn't include HD in the
    regexp which picked up the HD notification in the description.
    
    Hand cherry-picked from de131518b294fa75895b0de91a1f8dcf9f7ab274

commit a8040898f654a89f7f11dc5dabbaf06b44dc8f6b
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Tue Sep 23 10:18:19 2014 +0100

    UPnP: Fix dlna protocol string in 0.27, it wasn't DLNA compliant.

commit 5a0266e0a0da1db8123488c34dd10809d98de3e0
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Tue Sep 23 10:14:16 2014 +0100

    UPnP: Fix recording date folder names following UTC conversion.

commit e2f46569ac53030345efa74782ae44cee3ec5a79
Author: Karl Dietz <dekarl@mythtv.org>
Date:   Fri Sep 19 23:43:46 2014 +0200

    Handle [HD] in UK EIT fixups
    
    It appears that some transports transmit SD component descriptors on the
    HD services. See https://forum.mythtv.org/viewtopic.php?f=2&t=353
    (cherry picked from commit 44c85ad369a9d2bd564728a65f4f8b1164df2483)

commit 5c2cda7563c3a4656b112ecb48d3b97e9599dca6
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Thu Sep 18 11:54:55 2014 +0100

    UPnP: Convert dates and times to local time before serving to the client

commit 2d4a7c9235287b0589035974bff282e3f2e9a7e5
Author: Richard Hulme <peper03@mythtv.org>
Date:   Sun Jan 19 11:29:44 2014 +0100

    Sync libdvdnav up to R1294:
    
    * Add missing strings.h #include for strncasecmp().
    * Fix crash when trying to play a DVD from different region than currently set in the DVD drive.
    * Prevent segmentation faults in vdnav_describe_title_chapters() in case of parts with missing PGC.
    * Let dvdnav_describe_title_chapters() ignore parts where the pgc_start_byte is above the last_byte.
    * Let dvdnav_describe_title_chapters() skip PGCs with a cell number of zero.
    * Fix integer overflow in dvdnav_convert_time().
    * Do not close file twice.
    * Make sure program_map is not NULL.
    * Let dvdnav_describe_title_chapters() skip PGCs with missing cells.
    * Prevent general CPP macro from causing strange behavior.
    * Avoid a crash when program number is zero.
    * Check for out-of-bounds values for pgcn.
    * In vm_new_vm(), use the proper calloc() argument order and don't derive 1 from the unrelated sizeof(char).
    (cherry picked from commit 2a6038b5d7bf570e28fd8c3061483b0a22dcd830)

commit e9f14bf72d40a52987eaf3c80e40c78f411b3cec
Author: Richard Hulme <peper03@mythtv.org>
Date:   Sun Jan 19 11:24:12 2014 +0100

    Sync libdvdread up to R1290:
    
    * Add missing strings.h #include for strcasecmp() / strncasecmp().
    * Replace uses of the deprecated dvdcss_handle type by dvdcss_t.
    * Replace deprecated dvdcss_title() function by dvdcss_seek().
    * Do not extract libdvdcss version via dvdcss_interface_2.
    * Add #define for DVDCSS_SEEK_KEY to allow compilation without dvdcss.h.
    * If the start offset points past the last_byte (outside the region read) stop reading PTTs and adjust nr_of_srpts.
    * Use correct name of the libdvdcss DLL on Windows.
    * Fix spelling errors.
    * Document warnings generated by DVDs made with the VDR-to-DVD device LG RC590M.
    * Add an error message.
    * Clear pf_temp to make sure it is initialized.
    * Free `cached_dir_base` to fix memory leak.
    * Abort when PTT search table has zero entries.
    * Use 0 instead of NULL in integer comparison.
    (cherry picked from commit 2874f0d150342539644a5838f5147fa4c31f51ff)

commit 74ac2bdaa30743589abcd41bf7012fdf28cef74b
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Sun Sep 7 12:52:25 2014 +0100

    MythMusic: Allow smart playlist to be saved even if it produces no matches. The nature of smart playlists means that it may match tracks in the future.
    
    (cherry picked from commit 2f3f422e507dd5601aa0b0426bc81f59cda020a7)

commit fb347b69f055ed3bc16e439dec0514550dad5816
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Sun Sep 7 12:37:11 2014 +0100

    MythMusic: Fix NULL insert into NOT NULL column in SmartPlaylist editor.
    
    (cherry picked from commit 43b799a5fc57214102d586a01fc755e541e29ccd)

commit 3afae9e094fb70b99abbf483b9d6c1aba83059aa
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Sun Sep 7 12:31:56 2014 +0100

    MythMusic: Fix sql error in SmartPlaylist editor when adding a new playlist.
    
    (cherry picked from commit e5d6a425053e2c6ce747cf8adfd7aaddf4bcb97a)

commit 45fcdd836d507da8b798a2802b69e241f9e66e97
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Sun Sep 7 12:28:39 2014 +0100

    MythMusic: Fix smart playlists uses lastplay or date_entered.
    
    (cherry picked from commit 428609b782c5644b2e885d861f19dbb354f344c0)

commit 231972ca6da5432d05d513fd2a351aa0202470ee
Author: Karl Dietz <dekarl@mythtv.org>
Date:   Wed Apr 2 20:00:53 2014 +0200

    simplify handling of missing endtime at end of file in mythfilldatabase
    
    Instead of making up endtime of "next midnight" and "next 06:00 am" we
    just let the database fill in its default of 0000-00-00 00:00 and replace
    it later with whatever the next starttime is on that channel.
    
    This has seen very light testing, so I'm commiting it to master only. If
    I get positive reports from users I'm happing to merge it into fixes.
    
    Fixes #11541
    
    Reported as working on fixes/0.27 in https://code.mythtv.org/trac/ticket/11541#comment:12
    (cherry picked from commit 619b00848a0f272cf4e0529be4fedf48d9c414e9)

commit 926bb8d2427388f3f051ee642bd7b629b4d18601
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Aug 21 22:43:37 2014 +1000

    RingBuffer: always read directly from file if read ahead thread isn’t running
    
    readInternalMode can only work if the read ahead thread is running
    
    (cherry picked from commit 0641cd9ac3eb142f239b70085bac459f3694eadd)

commit 5b07c918a47b707943f20af71db67706ee1000b2
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Aug 21 22:40:56 2014 +1000

    RingBuffer: Properly wait for readahead thread to start
    
    Inverted test, no wait occurred causing a race condition later on which causes failures in LiveTV, usually when changing channels
    
    (cherry picked from commit 6b29f598776f8a2ecba09674b4c900ce0fb1fe7f)

commit 082d5c1fbccd48dd862f14007c0445dee8502f3d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Aug 11 09:38:21 2014 +1000

    Revert "TV UnpauseLiveTV calls tvchain->SwitchTo opposed to JumpTo to minimise visible disruption"
    
    This commit broke LiveTV channel change
    
    This reverts commit bfc6b9ed58029955d5a4230cad5851ed4848ed20.
    
    (cherry picked from commit 0f11604dd8429c9b6be847703898e9d4a55bb86e)

commit d8d10dbef53a70784d1ffc2e3e702d3f5206a7f5
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Aug 11 09:37:34 2014 +1000

    Revert "Player: Enable AVSync to recover quicker after a seek or program change"
    
    This commit broke audio or frame rate change detection following a seek or channel change
    
    This reverts commit 195eb07fb106fbabf164a1989860adcc132ab9d2.
    
    (cherry picked from commit 0128796ef424552fb9af4c92c2ac05d2436b36b9)

commit f097a8710d8f65b30ddf1d92e6759773b3cf151b
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Aug 11 09:34:22 2014 +1000

    Revert "Player: Finer a/v sync adjustments"
    
    This reverts commit f8d72280ccb3ec28391182cf6eaaf20c9c87ae4f.
    
    (cherry picked from commit d08503e30ccaa188ae27dad49ab67c343881db87)

commit 628337cb3d0211f2f88b5aa8f1352ecd2ecdb021
Merge: 6788ea9 cb7fd95
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Aug 10 22:50:24 2014 +1000

    Merge branch 'devel/027candidates' into fixes/0.27

commit cb7fd955cf8970b0135341a8d975720c9a4503b2
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Aug 10 19:47:58 2014 +1000

    Revert "Player: Amalgamate and simplify SwitchTo and JumpToProgram"
    
    This breaks seek when performed near the end of a program and makes the frontend unresponsive for several seconds when reaching the end of the current program
    
    This reverts commit cc927f687995a9620de581894a68935b0780b299.
    
    (cherry picked from commit 2bdb7cc5f5e5918cbdd19dcbb4902bec6d028ece)

commit 6788ea9ab34b86a1b7f18a540f91d5c5514f4665
Author: Jim Stichnoth <jstichnoth@mythtv.org>
Date:   Sun Jul 13 08:46:16 2014 -0700

    Make seeks faster for slow decoders / large keyframe distances.
    
    Exact seeking for HD-PVR recordings can be notoriously slow because
    the keyframe distance is 128 frames and decoding (even GPU hardware
    decoding) is often little faster than real-time.
    
    In most cases, it's a much better user experience to make a less
    accurate but much faster seek to the preceding keyframe.
    
    There are two changes:
    
    1. Impose a maximum wall-clock time on the forward frame-by-frame
    seeking.  After this maximum time elapses, abort any further frame
    seeking.
    
    2. In addition, try to predict whether fully accurate seeking will
    complete within a reasonable time, and if after a few frames it seems
    hopeless, just don't bother seeking any further.
    
    This approach allows fast decoders and video formats amenable to fast
    decoding to continue to have exact seeking.
    
    Fixes #12004.
    (cherry picked from commit 33acfaf30747592b9fca0913b2c2f8832418d618)

commit 5c76f3356fe2178677019e0415151e64605411c4
Author: Karl Dietz <dekarl@mythtv.org>
Date:   Wed Jul 23 11:15:24 2014 +0200

    Attempt to fix segfault in EITCache assumed to be due to QMap race
    
    Fixes #12219
    (cherry picked from commit 477c3f2b1cd3bcb38c5cfd9a3a934a95e1a13beb)

commit 5e37f9cf53e196459c59faceb9317e4e755df4eb
Author: Jim Stichnoth <jstichnoth@mythtv.org>
Date:   Mon Jul 28 09:36:58 2014 -0700

    Captions: Delete *all* cc708 windows in CC708Reader::Reset().
    
    Refs #12227.
    
    Signed-off-by: Jim Stichnoth <jstichnoth@mythtv.org>
    (cherry picked from commit e97f4f59806a32421a2d2ab4c79549286c56b6ab)
    
    Conflicts:
    
    	mythtv/libs/libmythtv/cc708reader.cpp

commit 0dd5ab38982619af18f99c4032c1010d68991047
Author: Jim Stichnoth <jstichnoth@mythtv.org>
Date:   Tue Jul 22 06:40:49 2014 -0700

    Subtitles: Avoid trying to draw empty text or background objects.
    
    Cherry-picked / adapted from 203db78ed2c8e9d59159d970b1eb89b5764a79f3.
    
    Refs #12056

commit 57699052e6eb16293a5954ad4312331448d9ef10
Author: Jim Stichnoth <jstichnoth@mythtv.org>
Date:   Wed Jul 16 13:54:46 2014 -0700

    Subtitles: Fix cc608 indents.
    
    The original code was trying to be clever and indent one character
    less than intended presumably to account the extra space character
    that control codes also imply, but it's not clear that was ever an
    appropriate thing to do.
    
    Thanks to faginbagin@ for identifying the problem and the fix.
    Refs #12051.
    (cherry picked from commit 7d60440b2d790208a25ce707480f5b01657410f1)

commit 143cf1c051bfc55321689cd75cbd2387cd7c48e7
Merge: bd1a02e f91e18d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 20 00:01:13 2014 +1000

    Merge branch 'fixes/0.27' into devel/027candidates

commit f91e18d652a5057b2e40f14a6afbda6b4abc128d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 23:56:21 2014 +1000

    Revert "mythtranscode: fix incorrect memory allocation"
    
    Causes memory corruption on some system, need to investigate
    
    This reverts commit 4630430b110dc173963c53d2bc0e7d15e6115d3e.

commit bd1a02e1646b02bac8501fa12bd807df57141957
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 22:02:30 2014 +1000

    Bump ABI

commit 24713519416992672204b89593ad45e595c0746c
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 21:51:24 2014 +1000

    metadata: fix C++11 compilation
    
    multiple backports from master

commit a452d8f853469c025f19bb23f5fa01294313d89c
Author: Karl Dietz <dekarl@mythtv.org>
Date:   Sat May 31 15:11:43 2014 +0200

    Guess its an episode if it has an episode title
    
    Guessing the content type for videos was only looking at the
    season and episode number.
    
    (cherry picked from commit 75478511c1d791faefb913c8a160da1c9441b1cf)

commit 322466107073ec12de69e3a9a810e2675f2b0362
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 03:39:27 2014 +1000

    frontend: add search abilities to “change recording metadata” screen.
    
    This will allow to search for inetref and set season/episode as well as subtitle and description.
    Themes will have to be updated to enjoy this functionality by adding a “query_button” button.
    
    (cherry picked from commit 41b9be6e64ce92553d84a1c255d049fc42636fef)

commit 4b43f7ce7598e4c7328f19a3d207307149ae53f3
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 03:31:01 2014 +1000

    metadata: also look for artwork when scanning a single recording
    
    no point waiting a day or having to run a full artwork scan
    
    (cherry picked from commit 4e50609edf5c38dcb6fb979b2d5dd2448ebe3e31)

commit d9aa1b9974cb6e90265e9f89e56b34812b8ad89f
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 02:56:39 2014 +1000

    metadata: return both movie and TV results when in non-automatic mode
    
    This allows not having to fiddle with season or episode #. TV or movie entries are presented first depending on the guessed type.
    We only do so if multiple results were already found
    
    (cherry picked from commit 2f9424c78cf0edd8409b76fbef07667a8940ba82)

commit 554be7ca490a1672450bb435cd984e1d46615b0e
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 23:40:33 2014 +1000

    metadatalookup: fix logic error introduced in 5d3d319936513cac22557f9a3969f7210b8ac049
    
    (cherry picked from commit e0155b9bb2b84b9574e587d65cf22f45d124d202)

commit af9082ea5a4123662726dbfe58ee3516f9cb75db
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 23:33:00 2014 +1000

    metadata: complete refactor of search
    
    Use different sequence of searches in order to find the best matching possibility.
    For TV, should no match be found, search for a generic artwork. This generic artwork will be automatically upgraded should specialised artwork ever be found.
    This is done by setting a season number 0 for that generic artwork.
    Original season/episode number will never get rewritten like it used it (was set to 1x1)
    
    (cherry picked from commit 05f63f5258f7bc2937131510c3a81232c958547c)

commit 630ae4b315d5bad8654621225e198abee070e1ed
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 23:18:25 2014 +1000

    frontend: fix automatic mode introduced in previous commit
    
    (cherry picked from commit f9fef962ca042e2d09137c8a026082980b2d03dd)

commit cc61fbda9d72b8d5ee4d3844096b55f43d581ad3
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 21:35:40 2014 +1000

    frontend: simplify metadata search creation
    
    Use GuessLookupType API, no point duplicating the code all over the place
    
    (cherry picked from commit c2c27e5f493311a4fb4fe1816188cf57a6a857e8)
    
    Conflicts:
    	mythtv/programs/mythfrontend/scheduleeditor.cpp

commit 212ab3e0f93d1a00a63f21b12f0d5ce6702f2e2c
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 21:32:44 2014 +1000

    metadata: never overrides current video season/episode with with retrieved metadata ones
    
    Only do so, if season or episode is 0
    
    (cherry picked from commit 2c1e405709270ef165e93346a77deb718831faff)

commit 0d9231ebee0dd69708045ce8c14c449b16eb6cf5
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 21:30:52 2014 +1000

    metadata: use extended inetref if available to determine the type of metadata
    
    (cherry picked from commit 2d4be81584230ac31dd2fa4f8b602a0c5e3d82c1)

commit 6619a3ce7c7f1753f0618a2568d50062ac05cfd2
Author: Karl Dietz <dekarl@mythtv.org>
Date:   Sat May 31 10:18:04 2014 +0200

    add GuessLookupType for VideoMetadata to match other content
    
    Refactor the lookup so its easier to compare the guessing.
    
    (cherry picked from commit 80c5e450b651732c476fbf8f1c47ba71a036f040)

commit cef57fcf8cc69ccf5135fcbe5081f0b5468b3eee
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 21:27:02 2014 +1000

    metadata: create Set/GetIsCollection
    
    Will be used to propagate the information that the metadata came from a collection rather than a given season/episode.
    That information is only necessary during the lifetime of the Metadatalookup object, so no need to change other classes
    
    (cherry picked from commit 7407adf97fe10485a7afce561eb425d26f210ca8)

commit b419d3fa8a84e36d98ea78a821bedc37985c9f6c
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 16 13:42:54 2014 +1000

    Revert "metadata: properly handle media search type if we already have an extended inetref."
    
    This reverts commit 30b03cc2b86e949b434b7afc207f12d35e6c6d87.
    
    (cherry picked from commit 1abcb6f6a6785d834e9ba95d5ef963ab67fceaf1)

commit 7b21180bca612a7aa53253986ebba8872586c141
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 20:47:50 2014 +1000

    metadata: fix incorrect tests
    
    would always return false
    
    similar to a50a24b0f408957885ff928569a061df07e5e993
    
    (cherry picked from commit 5d3d319936513cac22557f9a3969f7210b8ac049)
    
    Conflicts:
    	mythtv/programs/mythmetadatalookup/lookup.cpp

commit df8b2418bd8a31eff5563a017e87682f1152ab6d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Jul 14 03:58:25 2014 +1000

    metadata: do not unnecessarily query the database if there’s no chance that it will yield a result
    
    (cherry picked from commit 2d6eef6ecf0062f503b2188220eb8db9092cc6d6)

commit ef4af9b3dee5583f61e9ec89d5071f717b294da6
Author: Karl Dietz <dekarl@mythtv.org>
Date:   Mon Jan 7 22:42:16 2013 +0100

    Obey useonairguide and enable it for ERT
    
    Ignore the SDT in the EIT scanner, thus obeying useonairguide.
    Add quirk for ONID 65330 (ERT) to the channel scanner.
    
    Refs #9592
    
    (cherry picked from commit 7af260e6ff315fd511477e3cd1efb2e0b5cd0a67)

commit db46c6a71c53bccebc640331ad35f0481c4c7fc2
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 23:14:49 2014 +1000

    Limit bitrate to 100Mbit/s and fill_min to half the size of the ringbuffer
    
    Under some circumstances, FFmpeg can returns rubbish bitrates, set a maximum value of 100Mbit. This is almost twice the maximum bitrate permissible on a bluray.
    
    Fixes #12196
    
    (cherry picked from commit 83050ac67d40a449bc5433e0edda2c41d75eb45f)

commit a59b9d920d4039578405fae0d729943048325099
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 8 17:18:17 2014 +1000

    Flush buffers prior to closing the codec.
    
    Avoid random crashes seen with HLS streams
    
    (cherry picked from commit af6f82616a970d9b5e292ae4cffc25c1878d0405)

commit ae9d9094bbef8c4e3910df72c2dfd4049aab0d10
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Mar 12 13:49:41 2014 +0000

    Transcode: Fix a race condition in VideoDecodeBuffer when EOF encountered
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 0937dac17f362ca28ff8e627d58d6b32eecad02f)

commit c4eaae346255b4e4956be27aded3a0ad9b2777c5
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Mon Jun 16 18:07:01 2014 +0100

    Player: Allow seeking upto last frame when paused
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit c63a09c92b4ee2d82c104cd358a31b8464ca3e23)

commit 85c8cfec421dd1fd7e510556b97fdd7d90669954
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Thu Jun 26 18:02:16 2014 +0100

    TV: Avoid a SEGV when switching from PiP to PbP
    
    If a PiP reaches EOF then it's still possible to select the menu item
    to switch from PiP to PbP.  Then TV::PxPToggleType calls
    GetPlayer(mctx, 1)->SetPIPState(kPBPRight) but GetPlayer(mctx, 1)
    returns NULL.
    
        0  SetPIPState (change=<optimised out>, this=<optimised out>)
            at playercontext.h:107
        1  TV::PxPToggleType (this=0xa9d39f8, mctx=0xae006c8, wantPBP=true)
            at tv_play.cpp:5881
        2  0xb7029da6 in TV::HandlePxPTimerEvent (this=0xa9d39f8)
            at tv_play.cpp:3191
        3  0xb705b3da in TV::timerEvent (this=0xa9d39f8, te=0x0)
            at tv_play.cpp:2796
        4  0xb5379ee7 in QObject::event (this=0xa9d39f8, e=0xbfee4fbc)
            at kernel/qobject.cpp:1157
    
    This fix checks that the PiP is valid before changing state.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit d2a785b79196fb8194e60628b756ffc66d79db6c)

commit 8b39b0a449e18bc1a69f09631a7d63311e069d5b
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Tue Dec 6 20:44:13 2011 +0100

    libmythtv: Add a mutex to the ChannelScanSM class
    
    This class is accessed by two threads, the signal monitor and the
    thread that drives the scan.
    
    A segv can occur if one thread deletes the currentInfo member
    while it is being used by the other.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 738114f03f392ed882847e29eeb1462b028a0f3c)

commit fcd250728735131bacb7ceda0217eac15481db8f
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Tue Jul 8 14:25:27 2014 +1000

    Player: Amalgamate and simplify SwitchTo and JumpToProgram
    
    1. buffer->UpdateRawBitrate can wait for several 100mS so only call it if absolutely necessary i.e. if stream type hasn't changed.
    
    2. Omit unnecessary call to buffer->IgnoreLiveEOF which also can wait for several 100mS.
    
    3. Omit some lengthy calls to read the deleteMap and bookmarks if liveTV
    
    4. Ensure there are sufficient video frames buffered before starting playback.
       This reduces stutters in the first few seconds on remote frontends.
       Also delays a/v playback start until ringbuffer is ready to read.
    
    5. Reduce interference with RingBuffer readahead.
    
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit cc927f687995a9620de581894a68935b0780b299)

commit f307a3d5e60b0054e1833127d417c6acfada3213
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Thu Jun 2 12:55:13 2011 +0200

    Player: Improve low bit rate / high latency stream playback
    
    DVB-S radio programs are low bit rate (64Kbps..256Kbps) and suffer
    occasional latency.
    
    MHEG interaction streams are internet sourced and often suffer congestion
    resulting in high latency for some packets.
    
    - Fix a number of issues to do with changing program to DVB-S radio and
      the lack of video stream causing garbage video display.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 0e0e04ccadfcbeeedbeb5e6286c591caa33d8e62)
    
    Conflicts:
    	mythtv/libs/libmythtv/mythplayer.cpp

commit 47542ea4b690c957172ff30acb13a10a4f9fc0eb
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Fri Jul 12 15:13:07 2013 +0100

    Player: Finer a/v sync adjustments
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit f8d72280ccb3ec28391182cf6eaaf20c9c87ae4f)

commit c978683605d52fe28bb03a2ed5d112ddd7c22f8f
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Fri Jun 14 19:53:14 2013 +0100

    Player: Enable AVSync to recover quicker after a seek or program change
    
    The a/v timecodes can get out of step by 10's of seconds after a seek
    or a livetv program change.  This can cause frames to be doubled or dropped
    until the a/v streams get back in step.
    
    This patch checks the a/v timecode difference and if larger than 1 second
    disables frame dropping or doubling.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 195eb07fb106fbabf164a1989860adcc132ab9d2)

commit 3ccb0ad1eb1140b866bb8eb187f39e32393966d0
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Jun 12 14:55:08 2013 +0100

    Player: Clear EOF when resuming play
    
    RingBuffer::Read returns 0 (eof) when the buffer is paused.  This causes
    ffmpeg to set eof and prevent any further reads by the decoder.
    
    This patch clears the decoder's eof on restarting play which in turn
    resets ffmpeg's eof.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 604a9d8db63fababfeb07e1ffc8d45e3f4f2314c)

commit dcc0560ea5ad4521b9c0b5c5afc7d5d7975dd675
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Mar 20 13:51:07 2013 +0000

    mythtranscode: skip audio description streams
    
    A number of recent broadcasts on UK Freeview (BBC & ITV) have an
    audio description (AD) stream that is discontiguous.  Mythtranscode attempts
    to output all audio streams but if the AD stream is not present for
    some time then the output FIFOs overflow.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit a1a6502d4529cbe074b587919f05ecbb97ce2c74)

commit 8038187f1c74545f39d6cf3326df4dc903690a89
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Sun Jul 7 16:41:02 2013 +0100

    TV UnpauseLiveTV calls tvchain->SwitchTo opposed to JumpTo to minimise visible disruption
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit bfc6b9ed58029955d5a4230cad5851ed4848ed20)

commit 266ed9dd68273a2f769372891417af0973f26545
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Tue Aug 20 19:37:29 2013 +0100

    TV: Quit the TV playback loop when the primary player reports a fatal error
    
    If MythPlayer::OpenFile fails (for instance network congestion) then
    TV::StartTV continues by restarting TV instance which then causes problems
    for the backend.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit faad748af24b9bbbaa894243c9cf52fd841bb8d4)

commit 302dde18b440a52f8c53744129a4c9adfee3ef71
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 15:13:21 2014 +1000

    mythtranscode: always check if audio stream still exists
    
    This doesn’t cater for when there’s a change in audio format or new audio stream, but it prevents the crash when that occurs.
    
    Fixes #12207
    
    (cherry picked from commit 43eed00660447d327b8dc13f3daa38e8e5ae8038)

commit 4630430b110dc173963c53d2bc0e7d15e6115d3e
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 16:20:05 2014 +1000

    mythtranscode: fix incorrect memory allocation
    
    Use proper FFmpeg API to allocate AVPacket
    Fixes #12213
    
    (cherry picked from commit 09ed2c69354f6870667880aee16257b9600b01d8)

commit 39b73bcc3bb0f7f9cc1e6ed5e895d0949b51c4cd
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Mon Jul 7 18:04:49 2014 +0100

    MythUIWebBrowser: silence a warning when we can't find the parent window
    
    Base widgets don't necessarily have a window as a parent so don't log
    an error in this case.
    
    Signed-off-by: Paul Harrison <pharrison@mythtv.org>
    (cherry picked from commit 25dd4944996e746f1aee73bcbba4889f48e7ef9f)

commit 9511b67b9a411d675bdb7c0d43d021aa0bdabd54
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 03:36:24 2014 +1000

    protoserver: fixes QUERY_FILE_HASH hanging
    
    same as 933b61ffbe9af3cc6a69df001463fd2141c36b60

commit 4e199fcb24e4ed811fa225310144826613af26e1
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Jan 15 14:47:30 2014 +0000

    BE: Fix 'MythSocket: Programmer error, QEventLoop isn't running...' during BE exit
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit f8614bb8eea8428a558f257a8c4a7f04af807c94)

commit ccc5aef96d4c729ee3f3e7a7253e265815c04345
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 02:23:10 2014 +1000

    metadata: fix wrong test leading to incorrect hash calculation
    
    This would have almost always returned true, meaning it would attempt to calculate the hash of a file unlikely to exist locally.
    Simplify code + style
    
    (cherry picked from commit 1c89d567b594af44eb18b28ebe1df5ae18f8b032)

commit 933b61ffbe9af3cc6a69df001463fd2141c36b60
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 03:17:36 2014 +1000

    mythbackend: fixes QUERY_FILE_HASH hanging
    
    The frontend will typically call the backend with an identifier, and not its IP address. As such, the backend attempt to transfer the QUERY_FILE_HASH command to anoyher backend (which is itself) resulting in an infinite loop
    
    Fixes #12212
    
    (cherry picked from commit 7fa5c4fe97cf27dae4bee3f0d1b96ca1940f6f68)

commit 560ec435767c7b21438e116d3fed5977e60c9aa7
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 02:02:04 2014 +1000

    Bump ABI following a34d6e41fe419acb2f05853ce9fceb371b9bc84d

commit 3ffd685e166f69aa3704ad18689401efb03330bc
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 21:14:25 2014 +1000

    metadata: do not attempt to download remaining artworks should error occurred.
    
    The downloaded data would have been discarded anyway
    
    (cherry picked from commit eef41b99470a8f94125e8ee0848ff0c0a5cc265a)

commit 68ee4fbac7c410cb6254f37eaca12edc78c685a5
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 21:10:48 2014 +1000

    metadata: create objects on stack
    
    Data will actually be on heap, but so much more elegant
    
    (cherry picked from commit 1f21438d15a01e66e034233f436a969bece97869)

commit 6463e1bea5d0451d996a7789daac91e04360d9d2
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 20:36:42 2014 +1000

    metadata: properly update artwork images paths
    
    (cherry picked from commit 823e8511070c122657ed22238a40ab41cec0c545)

commit 12df79efbc2edd251162ce4bbf8c99f7ef665902
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 20:30:35 2014 +1000

    metadata: fix storage group access when downloading artworks.
    
    Check for an existing file was all broken, would always download no matter what
    Also, make sure only the master backend access the file system directly
    
    (cherry picked from commit 1e844849c6bb6e94e2a4e661ed038848a18ed06d)
    
    Conflicts:
    	mythtv/libs/libmythmetadata/metadataimagedownload.cpp

commit a34d6e41fe419acb2f05853ce9fceb371b9bc84d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 18:19:08 2014 +1000

    metadata: add getStorageGroupName
    
    remove duplicated code
    
    (cherry picked from commit 6954cff4005271b6360fdf25a4e2f7781a8e108a)

commit b54066ae1ebcb059d87b668267728f4881afce18
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 17:11:06 2014 +1000

    metadata: clear error state once an error has been propagated
    
    Otherwise following successful downloads would have been marked as failed too
    
    (cherry picked from commit 085c65e91273bbeb3e2d70298c795a027406a62b)

commit b6e14f7bf39ab86bd2a99270953cd59204ff004b
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 01:51:25 2014 +1000

    corecontext: QHostAddress::isNull() appears buggy
    
    It doesn’t reliably returns true when provided an invalid IP address. So get around that

commit feff9389da4c776ae6ab98ecef5ebd9b10237e4a
Author: Paul Harrison <pharrison@mythtv.org>
Date:   Wed Jul 16 11:38:12 2014 +0100

    MusicPlayer: On stop clear any temporary one shot metadata
    
    This fixes a problem getting stuck playing the same track after exiting the
    import screen if a track was test played while on there.
    
    (cherry picked from commit 31614bf78d8d5740fc4b38385de2d69cc04dffa9)

commit c6d97d397e225a84d85367f4dc692b0e71a803c3
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Tue Jul 15 15:26:10 2014 +0100

    UPnP: Fix the service IDs for CDS and CMGR which were both incorrect.
    
    (cherry picked from commit 23f098100b01d2143714a196bcbe6dca4058e7e0)
    Signed-off-by: Stuart Morgan <smorgan@mythtv.org>

commit c930a9c8565a2aba7d803d991a62747ce4ebf7b6
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 16:57:59 2014 +1000

    metadata: properly handle media search type if we already have an extended inetref.
    
    (cherry picked from commit 30b03cc2b86e949b434b7afc207f12d35e6c6d87)

commit 76aae88f6f8042ac707c3edb2593c1da17ee2111
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 16:20:47 2014 +1000

    metadata: no need to re-run the search when a match has already been found
    
    (cherry picked from commit 43785e4137cc3eaf4174fdfa62e15061765ba300)

commit c20107d36030158d910df1a959a3ca270f6794f0
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 16:09:33 2014 +1000

    metadata: also set collectionref to new format
    
    (cherry picked from commit 79aea142fc0d23c25a0f79085cf7df0adfb87e07)

commit 8e6341b0bce009ab5f46cd55f5f1598a9408051b
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 15:48:11 2014 +1000

    metadata: Fix GetGrabber
    
    It would never have used the grabber set in the inetref
    
    (cherry picked from commit 61a511562c00858ffb767a24ac9fd586cdf83fe2)

commit 71c28ce162617d43d4728d063f56ffa4547dca69
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 15:15:27 2014 +1000

    metadata: fix stray declaration
    
    (cherry picked from commit eafce8507591311bbbb1d412d28b38113bb9e358)

commit ae611eca18037147acad8df308f5a1a20255d996
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 14:59:39 2014 +1000

    metadata: Fix broken retrieval for screenshots
    
    Test could never have been evaluated to true
    
    (cherry picked from commit a50a24b0f408957885ff928569a061df07e5e993)

commit 3fec986ea7af959f070b31481652d0e45dbdcf62
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 02:24:03 2014 +1000

    metadata: uses _ as separator in inetref in place of :
    
    the inetref is used in the artwork filename, but the : character isn’t permissible with all file systems (FATx, VFAT, exFAT, HFS, and AmigaOS in particular).
    the : used in old inetref is kept for backward compatibility.
    
    Attempt was made to generate a filename not using the inetref as-is, but the change was very disruptive as there are about 12 functions across various classes that generate those filenames. Likelihood of missing a case was too great.
    
    (cherry picked from commit 6fddce08ff196a6b78b066dede0558593ba86f80)

commit 7e83d93f8eca2c87126f48f892069b6d3126dbe8
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Jul 14 20:25:22 2014 +1000

    CoreContext: Fix IsThisHost
    
    Wrong parenthesis placement.
    
    (cherry picked from commit 3cb8de1a6feaac3b1320331d3bdfd5a93ae148af)

commit aaae611819c6a6f92a55d5c82efb8738ec9a23df
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Jul 14 02:50:37 2014 +1000

    metadata: do not use script name for artwork file name
    
    Clear inetref from the script name.
    
    (cherry picked from commit ee7470d8bc0b843b80d13f4d9d92a6c3b06c3b2b)

commit 819f4239a07794063319f81cd722004708e77e4e
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 23:27:22 2014 +1000

    CoreContext: Fix IsThisHost
    
    IsThisHost can be called with a hostname, and not just an address as the arguments’ name suggest
    
    (cherry picked from commit feb2ddd5ff2ca37efdd05257ee8b725b25f6a183)

commit e4ea0880f570a200b3d36d56706a3cdeecaa855d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 21:33:06 2014 +1000

    Bump ABI

commit 5b10d387250d046bbe0c9952f7eaa167c46ebec7
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 21:24:07 2014 +1000

    metadata: if video type not known, try both movie and television grabber
    
    In case the type couldn’t be identified, it would assume it was only TV
    
    (cherry picked from commit 738a7016e657d49fa5f49f2ec46cea7fa61ff9c6)

commit b1cd6fb95078a37dc6d7905568b38e47350e24c2
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 19:31:03 2014 +1000

    metadata: Properly separate TV title/subtitle search from inetref/subtitle search
    
    This prevent likely errors of parsing a title as an inetref, in particular if it contains a ‘:’
    
    (cherry picked from commit a013a2e0b212526994263e3489a90bf5a85f5265)

commit 9a6d2d6b66ee135e5437c2a0b28a6274a4f5a03f
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 18:00:15 2014 +1000

    metadata: Properly clean inetref when searching for collection
    
    Also reduce duplicated code.
    Remove code handling of title as inetref. The issue if it exists must be resolved elsewhere
    
    (cherry picked from commit 7a0fb8ecbfec5a73300df8837ea0ed68877374b9)

commit 7e8ca1c3e74af4202cda42be4dd2cdf505df9d8f
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 12 05:06:37 2014 +1000

    metadata: do not use grabber cache if not initialised
    
    There’s no guarantee that a non-static member will be initialised.
    Make all global variable static, there is no reason to export them
    
    Fix #12206 part 2
    
    (cherry picked from commit 44775b1785110949ef5970cffb9acdb32fc72c92)

commit e93274a9d491a7dbe5614752dd414a0749298772
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 12 03:47:19 2014 +1000

    metadata: get around grabber incorrectly set to an empty string
    
    (cherry picked from commit 247d29ce10c1201da3bb35d088f91a8933e176b0)

commit 9ddb3d438d6471bbcf4b9d9b8fcd9e745c905f25
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 12 02:24:52 2014 +1000

    metadata: fix crash should grabber not be defined
    
    Fixes #12206
    
    (cherry picked from commit 419e06b45068a088dc28caf7c9e6999ee3c93231)

commit f6b2f741496ec99d7817b5d8b5eb146cb4aa21ee
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 11 00:41:59 2014 +1000

    Revert "Fix 0b9470c Fix fileringbuffer locking..."
    
    This breaks liveTV program transition (NFS backend)
    
    This reverts commit 2b88a8a952249a7fc85e4cf6b6d6a79858546bc2.
    
    (cherry picked from commit 8f50acb00824f312710dda057023b2a3a8afa71d)

commit 929ec3724e47835dc9a6d737a1455e0822abbb69
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 23:40:15 2014 +1000

    Player: Increase OpenFile timeout to allow playing isos/DVD on a remote FE
    
    Based on a patch by Lawrence Rust <lvr@softsystem.co.uk>
    
    (cherry picked from commit e24b7930555a418eed18d8e01b3afab6bb57cc3f)

commit 0bf2b7087f99e32f0c60c2d95edeff205f4278fa
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 23:36:14 2014 +1000

    Revert "Player: Increase OpenFile timeout to allow playing encrypted isos on a remote FE"
    
    Commit modifies more than title does.. missed that :(
    
    This reverts commit 8945e71ed5334f08b21f177a37c7da8c8c2f57c6.
    
    (cherry picked from commit 6634791ecffd412ac4f6bb31ebb3b1dd91144881)

commit 1f798ce1e950b160041a75fcc21c5218f6418513
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Oct 2 18:19:38 2013 +0100

    Player: Increase OpenFile timeout to allow playing encrypted isos on a remote FE
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 8945e71ed5334f08b21f177a37c7da8c8c2f57c6)

commit e3f8c8f674f5e00b74de1ab7686400c73cfd0ff3
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 17:38:31 2014 +1000

    Do not wait too quickly when reaching EOF
    
    DVD Ringbuffer seeks a lot, in small files, causing the readahead to pause for one second once it reaches EOF, and preventing readsdesired to be updated. As a consequence WaitForReadsAllowed would timeout.
    Also, after a seek, make sure the readahead thread is woken up, this reduce next read time by up to 1s.
    
    Fixes #12205
    
    (cherry picked from commit 90730e55cebf249ffb5c9cf26df2c8688f31eda4)

commit ffc5972e6c1b5a6b612d185f5fd66a991a67e424
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 00:38:44 2014 +1000

    Bump ABI

commit 7292b98b24514ce19e7a1c4d937c34757af98a3d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 00:18:09 2014 +1000

    Mythmetadata: Simplify code with a GetGrabber utility member
    
    (cherry picked from commit aef97a42b3fb577dcb0d83e72c24ec3ac27602fc)

commit 7e8330f6764e460f11df390924dece5daefa3b35
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 23:50:02 2014 +1000

    Mythmetadatalookup: Make sure we follow the exact same logic as we had prior e82754a7041d3988a8361535460d12a47742c65b
    
    (cherry picked from commit 3c2a386e504568186209e47f0cf70372cf51f626)

commit 6151169b21af661fc7c695b63fd112e5079ded99
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 23:15:28 2014 +1000

    Use myth coding style
    
    (cherry picked from commit fc8584e8b13adb31cb82290e30fa579648646ed9)

commit f883275af978087dbb76cc693ccda287c36c6ab9
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 22:56:56 2014 +1000

    Make sure to pass season and episode to tv grabber.
    
    Fixes #12203
    
    (cherry picked from commit 371acd4f29ea059838d9a414fa09cca0994a5d65)

commit 1489019374fdeda953548d5d4920ecda85c91288
Author: Raymond Wagner <rwagner@mythtv.org>
Date:   Mon Jul 7 23:57:44 2014 -0400

    Store grabber used along with inetref to ensure correct reuse.
    
    This stores the name of the grabber that returned an inetref, prepended
    to the beginning of the inetref, separate by a colon (:). This is then
    used to ensure that same grabber, or one that understands its indexing,
    is called any time that inetref is used. This resolves an issue where an
    inetref from the Television grabber would subsequently be used to pull
    data through the Movie grabber, resulting in incorrect information.
    
    This adds a caching mechanism for the grabbers, such that the available
    grabbers do not need to be rescanned each time an inetref is to be used.
    This cache is expired after 60 seconds, or any time the user enters the
    metadata grabber selection screen.
    
    Fixes #12149
    
    (cherry picked from commit e82754a7041d3988a8361535460d12a47742c65b)
    
    Conflicts:
    	mythtv/libs/libmythbase/mythversion.h
    	mythtv/libs/libmythmetadata/libmythmetadata.pro

commit 2d2530cd4250e1617c64b72a7ad9b8b3801ef40b
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 18:51:15 2014 +1000

    Mythmedatalookup: set PYTHONPATH so mythmedatalookup can be started on its own
    
    (cherry picked from commit ab82af34abe17faa927c7ce0b8a81a5fe365773c)

commit dbdfc4ff19ea2ec5cf0b140643ff6a0eebcafc8e
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 15:56:59 2014 +1000

    Ignore DMG mounted image
    
    If it’s a remote Time Machine Backup that is mounted, it would block for a very long time as parsing those drives take forever
    
    (cherry picked from commit 19f9c37ced6f315c2dfb42c38821a8d4ef7a8bfe)

commit 6435215dbb2e3e7f60cbfa28a14e3d0f412301df
Author: Richard Hulme <peper03@mythtv.org>
Date:   Thu Jul 10 00:18:53 2014 +0200

    Fix description text for 'Upcoming Recordings' in classic menu theme.
    (cherry picked from commit e2def5c55659b8f0427192130d163ebcfb26aa75)

commit eeda1f8f573a9747acead568bfb716df2f32afcd
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jun 25 11:31:43 2014 +1000

    Fix PiP when using OpenGL output
    
    Viewport must be of the output window, not of the main video currently playing
    
    (cherry picked from commit bbcecc404e5fad4972eca627374dcafbc8011c94)

commit f4195b2eb88296523351813c29933e81e6bd851f
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 09:19:07 2014 +1000

    bump FFmpeg to 1.2.7

commit fb9128b0512bb2473aefc1a6e87440a55f415171
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Jun 23 18:32:54 2014 +0200

    Update for FFmpeg 1.2.7
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit c45e4920ad25d2ebb0ac11f972558106966afee7
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Jun 15 00:49:02 2014 +0200

    avformat/mpc: attempt to allocate a packet that is not smaller than the data inside it
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 86a9370e2b91d67375e66a06d6eb573b5a017775)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 31aef53626a4914c9465dca22ce75e76299b508f
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Jun 8 14:30:30 2014 +0200

    avcodec/alsdec: Clear MPEG4AudioConfig so that no use of uninitialized memory is possible
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 6e6bd5481cf42a9765c492c77754d4633092cece)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 87b0230ef50c6f3ae5819d404a0206b65c41ea5c
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sat Jun 7 12:03:31 2014 +0200

    avformat/flvenc: Do not allow creating h263/mpeg4 in flv without unofficial format extensions being enabled.
    
    Found-by: Jean-Baptiste Kempf <jb@videolan.org>
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 74760883fcb4443d105814ed246b3cf51d7e9dca)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 2d88dbd22be3caa08306f999eaf544e880aa48c8
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 05:19:09 2014 +0200

    avcodec/mss4: Fix () in MKVAL() macro
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit cf7ff0146c76b93c32edf5230a28b9590acf5105)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 8d807213309e6b6d8cbe8c79a4c96905ce3fa970
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 05:18:47 2014 +0200

    avcodec/mss34dsp: fix () in SOP* macros
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 6e720c5c815e510188a0bda654662383f2c48050)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit cbb74c1c439450f887c4ca1b971b5c58d2810594
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 05:17:51 2014 +0200

    avcodec/mlpdec: fix () in MSB_MASK() macro
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit fa160af08b6f42f17e93124aef86e3f6eec70d51)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 48cb345c03a669d13f54465cca4a74922cc70322
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 03:27:56 2014 +0200

    avcodec/golomb-test: fix () in EXTEND() macro
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 97e6b5ee3a16fee7d130f19f4dcee030f14d91cf)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 26ba790bb4905c0890fa9155c6ba686fc17dc079
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 03:19:47 2014 +0200

    avcodec/aac: fix () in IS_CODEBOOK_UNSIGNED macro
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit fa915d4193e13187773c500b80c7df6baeb22c3b)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit e26bec8a48d27316114689cba7903436e9405ba3
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed May 21 03:02:06 2014 +0200

    avcodec/libvorbisenc: dont add the duration to AV_NOPTS_VALUE
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 19e66c7232d96e4ae8f05b52da2b84dfaa4e4da3)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 6deeb7675355fa430154c67d63a369da9c3cb8cb
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue May 20 05:23:52 2014 +0200

    avutil/cpu: force mmx on selection of higher x86 SIMD features
    
    Fixes various runtime failures with manually set flags that represent no
    existing CPU
    
    Fixes Ticket3653
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 6310eb8010b7a3b3016e297132380cbd4e3d2d10)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 9a89652241d88426161a6f610e3545f352424b5e
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon May 19 06:19:23 2014 +0200

    avcodec/diracdec: move mc buffer allocation to per frame
    
    Fixes out of array accesses for non default buffers with large strides
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 4a30f08505a4e85718896ff233c97be41a9754ca)
    (cherry picked from commit 9c9fc79d9237d28e33161cb2e75082d8ad232b2e)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 8034a717f08a5b3bcb36e62ad4f59f52aae7fbc5
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Apr 28 04:01:50 2014 +0200

    avfilter/graphdump: Fix pointer to local outside scope
    
    Fixes CID1194435
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 18af0ce62da322176f7bd283b85314d2f41bee2c)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit f9b07037530bba797bafe9b7756585ae5c457eec
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Apr 27 05:32:56 2014 +0200

    avcodec/mjpegdec: Fix undefined shift
    
    Fixes CID1194388
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit b4329605289e25bb071ec1c1182bf25fc83b09aa)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit c3109ab2898946c5c8a69156d0c58851e49fe212
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Apr 27 03:45:12 2014 +0200

    ffmpeg_filter: fix pointer to local outside scope
    
    Fixes CID1206652
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 09b16619d33ddf93005060d0782f28a1c1cbb7f6)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 6da1833cc60a2fb6a90245207b979f8a1d227b33
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Thu Apr 24 01:25:46 2014 +0200

    swresample: fix AV_CH_LAYOUT_STEREO_DOWNMIX input
    
    Fixes Ticket 3542
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 291d464161a5bf3b566bc147f83e4242b0c18d74)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit a4016354b4261c2dcb678c6abbec33681beb1419
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 23 21:47:48 2014 +0200

    avformat/h263dec: Fix h263 probe
    
    The code was missing 1 bit in the src format
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit fc145e576a443bfc89efdf35b91fd3c9ca0d8388)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 8db69da71a80e3c69f0086244ced8c1e534a7d94
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 23 06:04:50 2014 +0200

    avformat/mux: Check for and remove invalid packet durations
    
    Fixes assertion failure
    Fixes Ticket3575
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit dc6a17cf74a90e41d70ea1753cdb70c0a5b2ced8)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit c38807fda2c3dd533eff23c65237afdd94b6b747
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Jun 23 14:45:47 2014 +0200

    avutil/lzo: add asserts to be double sure against overflows
    
    These asserts cannot fail since d6af26c55c1ea30f85a7d9edbc373f53be1743ee
    
    Based-on: ccda51b14c0fcae2fad73a24872dce75a7964996
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit cf2b7c01f81c1fb3283a1390c0ca9a2f81f4f4a8)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 34f75574dd644f691442b088c3a9b047da1d1cb6
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Fri Jun 20 03:15:28 2014 +0200

    avutil/lzo: Fix integer overflow
    
    Embargoed-till: 2014-06-27 requested by researcher, but embargo broken by libav today (git and mailing list)
    
    Fixes: LMS-2014-06-16-4
    Found-by: "Don A. Bailey" <donb@securitymouse.com>
    See: ccda51b14c0fcae2fad73a24872dce75a7964996
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit d6af26c55c1ea30f85a7d9edbc373f53be1743ee)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit b1560f20677924316fc9efe8eb36176b7ffe6504
Author: Xi Wang <xi.wang@gmail.com>
Date:   Fri Mar 15 06:59:22 2013 -0400

    lzo: fix overflow checking in copy_backptr()
    
    The check `src > dst' in the form `&c->out[-back] > c->out' invokes
    pointer overflow, which is undefined behavior in C.
    
    Remove the check.  Also replace `&c->out[-back] < c->out_start' with
    a safe form `c->out - c->out_start < back' to avoid overflow.
    
    CC: libav-stable@libav.org
    
    Signed-off-by: Xi Wang <xi.wang@gmail.com>
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>
    (cherry picked from commit ca6c3f2c53be70aa3c38e8f1292809db89ea1ba6)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 86048f1203b4e8065a9f3ef264c296f6887cd0d3
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Apr 21 11:33:17 2014 +0200

    avfilter/filtfmts: Support dynamically allocated in/outputs
    
    Fixes crash
    Fixes Ticket3468
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 59c7615d58b5b7ea9caff2c8c774677973eb4f1c)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 127b0ddb7e3438d7760dbf9517aa08d266e6b9fc
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    iavcodec/vc1dec: Fix missing {}
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit cb53beb81a5b9192c79de401f1e1e13fadddc429)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit b0e5dad86840ecd6e488f9efe50d421b4d72a2a1
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    avfilter/vf_deshake: fix loss of precission with odd resolutions
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 73734282e0e4df92269984ee1671424e39249481)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 4064035e00c39ebd24bf17e0f3fb04d5fb0f9537
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:55:13 2014 +0200

    avcodec/g723_1: add assert to help static code analyzers
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 1457f3fd90e17745791354fbb87899fc4803085a)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit e8ada5f69661224c984ec7c0c1d5e64ab0c0f910
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    avcodec/diracdec: fix undefined behavior with shifts
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit b8598f6ce61ccda3f2ff0c730b009fb650e42986)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit eb75408e66b6396f65c4288095133082b550d914
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    avformat/mpegts: Remove redundant check
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit ff6fa0b4b980fc5b9f7653d7b159ae02c3d95210)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 19546857e9d66e9e3728ff2bd6bb20c99f8db93b
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    avcodec/mjpegen: Fix declared argument size
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 256f530603ef3838a712a4fcd737b46b7bce455e)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 023a2b219d75ae75d8e64a5de0bff2e1e914bb62
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 01:55:08 2014 +0200

    swscale/swscale: fix srcStride/srcSlice typo
    
    Fixes part of Ticket3466
    Found by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 14fa7fc6a81d5e59e05243cdc92108eab1b138ac)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit dd1a76d33a54a6cd63c803827120ccbe128402be
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Apr 14 17:29:27 2014 +0200

    avcodec/x86/idct_sse2_xvid: fix non C99 inline function
    
    Found-by: Matt Oliver <protogonoi@gmail.com>
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 46d5625f44185271862337d61cd246fd569c42a4)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 532219c8ec50b2828e4395537f06b29d3a5533e2
Author: Anthoine Bourgeois <anthoine.bourgeois@gmail.com>
Date:   Wed Apr 9 12:18:32 2014 +0200

    avcodec/dirac_arith: Fix build with PIC and stack-check options
    
    Fixes Ticket3540
    
    The function dirac_get_arith_bit in libavcodec/dirac_arith.h can't be
    built with PIC and check-stack because the asm code needs 6 registers
    and PIC and check-stack options take 1 each and x86 is quite limited
    in this area.
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit d8ab7f31dd819f7b3e0d460a2fa4261aaae87b98)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 054c75104fea99e9c88f23c2acc186d89e0ebd96
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 8 18:12:12 2014 +0200

    swscale/x86/swscale_template: loose hardcoded dstw_offset
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit f6759d9ad4a8b71e6f212ca4f1e7da9fa56d3298)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 398e045e4250172ed8ac36052e556bbe5a861226
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 8 00:29:26 2014 +0200

    swresample/resample: use av_malloc_array() where appropriate
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 5027f39712fdce25b9008e72d52e5abfeefd5fe6)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit e506ac106b0b14af32adee1e3fd8f512d4ac9968
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 8 00:29:06 2014 +0200

    swresample/dither: use av_malloc_array()
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit a5290cb1ac047851563da7aca06569e3ada55f79)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 887273a16052def543beb2f2f55f0e44d890fb88
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 8 00:19:07 2014 +0200

    swresample/resample: Limit filter length
    
    Related to CID1197063
    
    The limit choosen is arbitrary and much larger than what makes sense.
    It avoids the need for checking arithmetic operations with the length for overflow
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit f9158b01d0f3effb58e87fb07db0382bc1e47de5)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 5a52808474b7f63c073bdbb4193d606c7b0cf697
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Apr 6 04:01:24 2014 +0200

    avcodec/msrle: check return code for success before use
    
    The check is possibly redundant, but better to check for errors
    that dont occur than to skip the check and crash
    
    Fixes CID1197060
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 754f84663e8b3a88fa2e953b195d59230393fb8d)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit c99f73ba1a3e1d51c18148a5c29a7eac73a11853
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sat Apr 5 21:34:03 2014 +0200

    avcodec/wma: use av_freep(), do not leave stale pointers in memory
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit d167faafe9dfa0b82bebb267c3c4e5fa5286bd67)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 828d7ef03b3c735cd22b86d9752a2cc71929a751
Author: Lukasz Marek <lukasz.m.luki@gmail.com>
Date:   Fri Apr 4 19:28:45 2014 +0200

    lavu/opt: validate range before dereference
    
    This change make error handling simplier.
    av_opt_freep_ranges may be called when some ranges are NULL,
    for example after memory allocation fail.
    
    Signed-off-by: Lukasz Marek <lukasz.m.luki@gmail.com>
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 3aac5fcfa9d3748659d78ab2a66d0ccce22cfd4f)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 5869ae06f47a9fed73e7340bcdc5435cb16a4960
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Fri Mar 28 00:03:38 2014 +0100

    avcodec/libx264: move where x264opts is applied down so it isnt overridden by avctx & defaults
    
    fixes x264opts opengop=1
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 64b79141bdfdffaa9fda69eecce140473d0a9a18)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 2faa9a0ab84ff1947e633296d93149812099a649
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Mar 26 18:09:23 2014 +0100

    avcodec/h264_mp4toannexb_bsf: prepend global headers before any in stream parameter sets
    
    Fixes h264_mp4toannexb_bsf_failure.mkv
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 289b149cecb381522cc9ccdf382825330169c655)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 93c91ddcf079b3dd50a29fb514678b197e312763
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Mar 25 00:15:52 2014 +0100

    avcodec/x86/mpegvideoenc_template: fix integer overflow
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 1aa2f99a4e86e590bc1b39a29fc7734189c5a839
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Mar 24 05:01:32 2014 +0100

    swscale/swscale: fix integer overflow
    
    Should fix fate failure with clang ftrapv
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit c9c0451224fd7bc38b4e135e99f114f80c1ae67f)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit ef0a049d3506afa254a698e0f041e002def3af7e
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Sat Jun 21 19:35:06 2014 +0200

    Show duration for large asf files as written in the file header.
    
    Fixes ticket #3428.
    (cherry picked from commit e3fd263f0b73e4425192d6dd1ab18027ecaa35db)
    
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit ec938e9390e9cef806d69e44de29ad2cf6982543
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Fri Jun 20 01:58:14 2014 +0200

    Revert two backports to release/1.2 that broke fate.
    
    Revert "ff_id3v2_read: add option to limit ID3 magic number search"
    Revert "ff_id3v2_free_extra_meta: set the pointer pointing to extra_meta to NULL"
    
    This reverts commit 7f8aa37bc3666d060b3eb2baa02fcea3597a22fd.
    This reverts commit 5219e20d58e15305e188ba60a75bfc37a1f82341.
    
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 6d743290d8ec2c399741404ad2e2d9482c32263f
Author: Martin Storsjö <martin@martin.st>
Date:   Fri Jun 6 12:03:09 2014 +0300

    adpcm: Write the proper predictor in trellis mode in IMA QT
    
    The actual predictor value, set by the trellis code, never
    was written back into the variable that was written into
    the block header. This was accidentally removed in b304244b.
    
    This significantly improves the audio quality of the trellis
    case, which was plain broken since b304244b.
    
    Encoding IMA QT with trellis still actually gives a slightly
    worse quality than without trellis, since the trellis encoder
    doesn't use the exact same way of rounding as in
    adpcm_ima_qt_compress_sample and adpcm_ima_qt_expand_nibble.
    
    Fixes part of Ticket3701
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit fa8f060b75bf9074792a0f9ff4ed002652ef62b8)
    
    Conflicts:
    	tests/ref/acodec/adpcm-ima_qt-trellis
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 2a3e0b91ffd450a8895c4fe1861a6b4df9bbd869
Author: Martin Storsjö <martin@martin.st>
Date:   Thu Jun 5 11:56:10 2014 +0300

    adpcm: Fix trellis encoding of IMA QT
    
    This was broken in 095be4fb - samples+ch (for the previous
    non-planar case) equals &samples_p[ch][0]. The confusion
    probably stemmed from the IMA WAV case where it originally
    was &samples[avctx->channels + ch], which was correctly
    changed into &samples_p[ch][1].
    
    Fixes part of Ticket3701
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit a32765c4252eb106a2ade543026ef6f59e699bfa)
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 28d615e58890edecdc4bddbe7a82f563805b3081
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Thu May 29 08:41:15 2014 +0200

    avcodec/utvideodec: Increase vlc len
    
    Fixes a regression since fb3e380 similar to ticket #2661,
    reported by fluffrabbit at aol dot com.
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 673716c54b39eba9579a38ad222130e3f9549167)
    
    Conflicts:
    	libavcodec/utvideodec.c
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 8d5cf2a69c2c988960efd346069ced53fdb9ec58
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Jun 4 05:04:13 2014 +0200

    avformat/avidec: allow rounding errors between scale/rate and timebase
    
    Fixes Ticket3670
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 571ab8344a9a2864d22d01af41283cee9328b927)
    
    Conflicts:
    	libavformat/avidec.c
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 2b88a8a952249a7fc85e4cf6b6d6a79858546bc2
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Fri Mar 7 19:31:42 2014 +0000

    Fix 0b9470c Fix fileringbuffer locking...
    
    Commit 0b9470c (Fix fileringbuffer locking up on read()) modified
    FileRingBuffer::safe_read to use fstat() to check the file size
    before reading.  The new code compares (internalreadpos + tot)
    with the reported size.  This is mostly correct except when
    MythPlayer::SwitchProgram detects the transition across a livetv
    programme boundary.  In this case internalreadpos holds the read
    position for the old file until the decoder calls FileChanged().
    
    This patch includes readAdjust (set by SetAdjustFilesize()) to
    correctly determine the current read position in the file.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 363361a9e26322d9e6a87e17effc50add8653533)

commit 4d7b305afc071addb06b566ac1d9fbadd431c741
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Jul 4 16:39:13 2012 +0200

    Player: Don't call DoneDisplayingFrame for PiP until next frame is ready
    
    When displaying 'pictute in picture' (PiP), VideoOutput::ShowPIP
    composites the PiP windows onto the main video frame.  To do so, it uses
    the player's GetCurrentFrame method to obtain the most recently displayed
    PiP frame.  However, MythPlayer::DisplayNormalFrames immediately releases
    the last frame displayed back to the decoding queue.  Consequently when
    GetCurrentFrame calls GetLastShownFrame to obtain that frame it may have been
    overwritten by the decoder thread.
    
    This patch defers calling DoneDisplayingFrame if the player is a PiP
    player so that future calls to GetLastShownFrame return an intact frame.
    
    Fixes #10878
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 49df62f1a76f0e617208e261a09f5f8a634b3ce9)
    
    Conflicts:
    	mythtv/libs/libmythtv/mythplayer.cpp

commit fba8e800c98356bd06ee03087b6b421f94610490
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Fri Jun 27 14:05:25 2014 +0100

    Sync minilzo from 2.03 to 2.07.
    
    This commit is UNTESTED. I don't have any framegrabbers. However
    there's no reason it shouldn't work as it's just a minor version bump.
    
    Refs LMS-2014-06-16-1, CVE-2014-4607
    
    (cherry picked from commit b99f21b2791c4685fb48460a165a7cd804256f03)
    Signed-off-by: Stuart Morgan <smorgan@mythtv.org>

commit dbb4ef308863a837c1c0617a7a478fb2fe309757
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Jun 30 13:13:11 2014 -0700

    Audio: Abort Drain if audio device is in pause
    
    Prevent deadlock in MythMusic
    
    (cherry picked from commit d6663a5498f1ba1147a801dd4902b779b3afd1f8)

commit 74d812d1f80cac064ce2ebb7f8164f2a5e825708
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 6 10:48:19 2014 +1000

    Fix memory leak
    
    Coverity CID 1224482
    
    (cherry picked from commit e16a9b0072c068a42759a78b4633d656b3627453)

commit cebafcf4131c6dff59a6234c5e35408719749890
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 6 08:57:58 2014 +1000

    Properly allocate VDPAU PiP video buffers and fix memory leak
    
    The video buffers were never freed
    
    (cherry picked from commit 548aaf78373cf0360b759b633df10c3690e3f06b)

commit 3b0f5790c9081a17a019ded726ae497bd5c6f62c
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 6 01:25:21 2014 +1000

    Don’t attempt to play the video streams for mp3, flac, off and m4a container.
    
    FFmpeg incorrectly detects the artwork in those file as MJPEG, which myth would then attempt to play.
    A nicer fix would be to display that image instead.
    
    Fixes #11597
    
    (cherry picked from commit 9df8bb364ba56cc34d34af40e5980110193bd334)

commit 418deb69b5f299f18840d55be878714bcefb57a0
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 5 23:37:35 2014 +1000

    Ignore IPv6 settings value if it’s invalid
    
    This would otherwise cause the backend to always believe the requested host was local
    
    Fixes #12172
    
    (cherry picked from commit de991d98754bd50045d65080592828631786e161)
