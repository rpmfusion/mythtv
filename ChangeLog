commit 0dd5ab38982619af18f99c4032c1010d68991047
Author: Jim Stichnoth <jstichnoth@mythtv.org>
Date:   Tue Jul 22 06:40:49 2014 -0700

    Subtitles: Avoid trying to draw empty text or background objects.
    
    Cherry-picked / adapted from 203db78ed2c8e9d59159d970b1eb89b5764a79f3.
    
    Refs #12056

commit 57699052e6eb16293a5954ad4312331448d9ef10
Author: Jim Stichnoth <jstichnoth@mythtv.org>
Date:   Wed Jul 16 13:54:46 2014 -0700

    Subtitles: Fix cc608 indents.
    
    The original code was trying to be clever and indent one character
    less than intended presumably to account the extra space character
    that control codes also imply, but it's not clear that was ever an
    appropriate thing to do.
    
    Thanks to faginbagin@ for identifying the problem and the fix.
    Refs #12051.
    (cherry picked from commit 7d60440b2d790208a25ce707480f5b01657410f1)

commit f91e18d652a5057b2e40f14a6afbda6b4abc128d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 23:56:21 2014 +1000

    Revert "mythtranscode: fix incorrect memory allocation"
    
    Causes memory corruption on some system, need to investigate
    
    This reverts commit 4630430b110dc173963c53d2bc0e7d15e6115d3e.

commit 302dde18b440a52f8c53744129a4c9adfee3ef71
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 15:13:21 2014 +1000

    mythtranscode: always check if audio stream still exists
    
    This doesn’t cater for when there’s a change in audio format or new audio stream, but it prevents the crash when that occurs.
    
    Fixes #12207
    
    (cherry picked from commit 43eed00660447d327b8dc13f3daa38e8e5ae8038)

commit 4630430b110dc173963c53d2bc0e7d15e6115d3e
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 19 16:20:05 2014 +1000

    mythtranscode: fix incorrect memory allocation
    
    Use proper FFmpeg API to allocate AVPacket
    Fixes #12213
    
    (cherry picked from commit 09ed2c69354f6870667880aee16257b9600b01d8)

commit 39b73bcc3bb0f7f9cc1e6ed5e895d0949b51c4cd
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Mon Jul 7 18:04:49 2014 +0100

    MythUIWebBrowser: silence a warning when we can't find the parent window
    
    Base widgets don't necessarily have a window as a parent so don't log
    an error in this case.
    
    Signed-off-by: Paul Harrison <pharrison@mythtv.org>
    (cherry picked from commit 25dd4944996e746f1aee73bcbba4889f48e7ef9f)

commit 9511b67b9a411d675bdb7c0d43d021aa0bdabd54
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 03:36:24 2014 +1000

    protoserver: fixes QUERY_FILE_HASH hanging
    
    same as 933b61ffbe9af3cc6a69df001463fd2141c36b60

commit 4e199fcb24e4ed811fa225310144826613af26e1
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Jan 15 14:47:30 2014 +0000

    BE: Fix 'MythSocket: Programmer error, QEventLoop isn't running...' during BE exit
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit f8614bb8eea8428a558f257a8c4a7f04af807c94)

commit ccc5aef96d4c729ee3f3e7a7253e265815c04345
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 02:23:10 2014 +1000

    metadata: fix wrong test leading to incorrect hash calculation
    
    This would have almost always returned true, meaning it would attempt to calculate the hash of a file unlikely to exist locally.
    Simplify code + style
    
    (cherry picked from commit 1c89d567b594af44eb18b28ebe1df5ae18f8b032)

commit 933b61ffbe9af3cc6a69df001463fd2141c36b60
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 03:17:36 2014 +1000

    mythbackend: fixes QUERY_FILE_HASH hanging
    
    The frontend will typically call the backend with an identifier, and not its IP address. As such, the backend attempt to transfer the QUERY_FILE_HASH command to anoyher backend (which is itself) resulting in an infinite loop
    
    Fixes #12212
    
    (cherry picked from commit 7fa5c4fe97cf27dae4bee3f0d1b96ca1940f6f68)

commit 560ec435767c7b21438e116d3fed5977e60c9aa7
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 02:02:04 2014 +1000

    Bump ABI following a34d6e41fe419acb2f05853ce9fceb371b9bc84d

commit 3ffd685e166f69aa3704ad18689401efb03330bc
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 21:14:25 2014 +1000

    metadata: do not attempt to download remaining artworks should error occurred.
    
    The downloaded data would have been discarded anyway
    
    (cherry picked from commit eef41b99470a8f94125e8ee0848ff0c0a5cc265a)

commit 68ee4fbac7c410cb6254f37eaca12edc78c685a5
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 21:10:48 2014 +1000

    metadata: create objects on stack
    
    Data will actually be on heap, but so much more elegant
    
    (cherry picked from commit 1f21438d15a01e66e034233f436a969bece97869)

commit 6463e1bea5d0451d996a7789daac91e04360d9d2
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 20:36:42 2014 +1000

    metadata: properly update artwork images paths
    
    (cherry picked from commit 823e8511070c122657ed22238a40ab41cec0c545)

commit 12df79efbc2edd251162ce4bbf8c99f7ef665902
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 20:30:35 2014 +1000

    metadata: fix storage group access when downloading artworks.
    
    Check for an existing file was all broken, would always download no matter what
    Also, make sure only the master backend access the file system directly
    
    (cherry picked from commit 1e844849c6bb6e94e2a4e661ed038848a18ed06d)
    
    Conflicts:
    	mythtv/libs/libmythmetadata/metadataimagedownload.cpp

commit a34d6e41fe419acb2f05853ce9fceb371b9bc84d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 18:19:08 2014 +1000

    metadata: add getStorageGroupName
    
    remove duplicated code
    
    (cherry picked from commit 6954cff4005271b6360fdf25a4e2f7781a8e108a)

commit b54066ae1ebcb059d87b668267728f4881afce18
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 17 17:11:06 2014 +1000

    metadata: clear error state once an error has been propagated
    
    Otherwise following successful downloads would have been marked as failed too
    
    (cherry picked from commit 085c65e91273bbeb3e2d70298c795a027406a62b)

commit b6e14f7bf39ab86bd2a99270953cd59204ff004b
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 18 01:51:25 2014 +1000

    corecontext: QHostAddress::isNull() appears buggy
    
    It doesn’t reliably returns true when provided an invalid IP address. So get around that

commit feff9389da4c776ae6ab98ecef5ebd9b10237e4a
Author: Paul Harrison <pharrison@mythtv.org>
Date:   Wed Jul 16 11:38:12 2014 +0100

    MusicPlayer: On stop clear any temporary one shot metadata
    
    This fixes a problem getting stuck playing the same track after exiting the
    import screen if a track was test played while on there.
    
    (cherry picked from commit 31614bf78d8d5740fc4b38385de2d69cc04dffa9)

commit c6d97d397e225a84d85367f4dc692b0e71a803c3
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Tue Jul 15 15:26:10 2014 +0100

    UPnP: Fix the service IDs for CDS and CMGR which were both incorrect.
    
    (cherry picked from commit 23f098100b01d2143714a196bcbe6dca4058e7e0)
    Signed-off-by: Stuart Morgan <smorgan@mythtv.org>

commit c930a9c8565a2aba7d803d991a62747ce4ebf7b6
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 16:57:59 2014 +1000

    metadata: properly handle media search type if we already have an extended inetref.
    
    (cherry picked from commit 30b03cc2b86e949b434b7afc207f12d35e6c6d87)

commit 76aae88f6f8042ac707c3edb2593c1da17ee2111
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 16:20:47 2014 +1000

    metadata: no need to re-run the search when a match has already been found
    
    (cherry picked from commit 43785e4137cc3eaf4174fdfa62e15061765ba300)

commit c20107d36030158d910df1a959a3ca270f6794f0
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 16:09:33 2014 +1000

    metadata: also set collectionref to new format
    
    (cherry picked from commit 79aea142fc0d23c25a0f79085cf7df0adfb87e07)

commit 8e6341b0bce009ab5f46cd55f5f1598a9408051b
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 15:48:11 2014 +1000

    metadata: Fix GetGrabber
    
    It would never have used the grabber set in the inetref
    
    (cherry picked from commit 61a511562c00858ffb767a24ac9fd586cdf83fe2)

commit 71c28ce162617d43d4728d063f56ffa4547dca69
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 15:15:27 2014 +1000

    metadata: fix stray declaration
    
    (cherry picked from commit eafce8507591311bbbb1d412d28b38113bb9e358)

commit ae611eca18037147acad8df308f5a1a20255d996
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 14:59:39 2014 +1000

    metadata: Fix broken retrieval for screenshots
    
    Test could never have been evaluated to true
    
    (cherry picked from commit a50a24b0f408957885ff928569a061df07e5e993)

commit 3fec986ea7af959f070b31481652d0e45dbdcf62
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Tue Jul 15 02:24:03 2014 +1000

    metadata: uses _ as separator in inetref in place of :
    
    the inetref is used in the artwork filename, but the : character isn’t permissible with all file systems (FATx, VFAT, exFAT, HFS, and AmigaOS in particular).
    the : used in old inetref is kept for backward compatibility.
    
    Attempt was made to generate a filename not using the inetref as-is, but the change was very disruptive as there are about 12 functions across various classes that generate those filenames. Likelihood of missing a case was too great.
    
    (cherry picked from commit 6fddce08ff196a6b78b066dede0558593ba86f80)

commit 7e83d93f8eca2c87126f48f892069b6d3126dbe8
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Jul 14 20:25:22 2014 +1000

    CoreContext: Fix IsThisHost
    
    Wrong parenthesis placement.
    
    (cherry picked from commit 3cb8de1a6feaac3b1320331d3bdfd5a93ae148af)

commit aaae611819c6a6f92a55d5c82efb8738ec9a23df
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Jul 14 02:50:37 2014 +1000

    metadata: do not use script name for artwork file name
    
    Clear inetref from the script name.
    
    (cherry picked from commit ee7470d8bc0b843b80d13f4d9d92a6c3b06c3b2b)

commit 819f4239a07794063319f81cd722004708e77e4e
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 23:27:22 2014 +1000

    CoreContext: Fix IsThisHost
    
    IsThisHost can be called with a hostname, and not just an address as the arguments’ name suggest
    
    (cherry picked from commit feb2ddd5ff2ca37efdd05257ee8b725b25f6a183)

commit e4ea0880f570a200b3d36d56706a3cdeecaa855d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 21:33:06 2014 +1000

    Bump ABI

commit 5b10d387250d046bbe0c9952f7eaa167c46ebec7
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 21:24:07 2014 +1000

    metadata: if video type not known, try both movie and television grabber
    
    In case the type couldn’t be identified, it would assume it was only TV
    
    (cherry picked from commit 738a7016e657d49fa5f49f2ec46cea7fa61ff9c6)

commit b1cd6fb95078a37dc6d7905568b38e47350e24c2
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 19:31:03 2014 +1000

    metadata: Properly separate TV title/subtitle search from inetref/subtitle search
    
    This prevent likely errors of parsing a title as an inetref, in particular if it contains a ‘:’
    
    (cherry picked from commit a013a2e0b212526994263e3489a90bf5a85f5265)

commit 9a6d2d6b66ee135e5437c2a0b28a6274a4f5a03f
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 13 18:00:15 2014 +1000

    metadata: Properly clean inetref when searching for collection
    
    Also reduce duplicated code.
    Remove code handling of title as inetref. The issue if it exists must be resolved elsewhere
    
    (cherry picked from commit 7a0fb8ecbfec5a73300df8837ea0ed68877374b9)

commit 7e8ca1c3e74af4202cda42be4dd2cdf505df9d8f
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 12 05:06:37 2014 +1000

    metadata: do not use grabber cache if not initialised
    
    There’s no guarantee that a non-static member will be initialised.
    Make all global variable static, there is no reason to export them
    
    Fix #12206 part 2
    
    (cherry picked from commit 44775b1785110949ef5970cffb9acdb32fc72c92)

commit e93274a9d491a7dbe5614752dd414a0749298772
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 12 03:47:19 2014 +1000

    metadata: get around grabber incorrectly set to an empty string
    
    (cherry picked from commit 247d29ce10c1201da3bb35d088f91a8933e176b0)

commit 9ddb3d438d6471bbcf4b9d9b8fcd9e745c905f25
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 12 02:24:52 2014 +1000

    metadata: fix crash should grabber not be defined
    
    Fixes #12206
    
    (cherry picked from commit 419e06b45068a088dc28caf7c9e6999ee3c93231)

commit f6b2f741496ec99d7817b5d8b5eb146cb4aa21ee
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Fri Jul 11 00:41:59 2014 +1000

    Revert "Fix 0b9470c Fix fileringbuffer locking..."
    
    This breaks liveTV program transition (NFS backend)
    
    This reverts commit 2b88a8a952249a7fc85e4cf6b6d6a79858546bc2.
    
    (cherry picked from commit 8f50acb00824f312710dda057023b2a3a8afa71d)

commit 929ec3724e47835dc9a6d737a1455e0822abbb69
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 23:40:15 2014 +1000

    Player: Increase OpenFile timeout to allow playing isos/DVD on a remote FE
    
    Based on a patch by Lawrence Rust <lvr@softsystem.co.uk>
    
    (cherry picked from commit e24b7930555a418eed18d8e01b3afab6bb57cc3f)

commit 0bf2b7087f99e32f0c60c2d95edeff205f4278fa
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 23:36:14 2014 +1000

    Revert "Player: Increase OpenFile timeout to allow playing encrypted isos on a remote FE"
    
    Commit modifies more than title does.. missed that :(
    
    This reverts commit 8945e71ed5334f08b21f177a37c7da8c8c2f57c6.
    
    (cherry picked from commit 6634791ecffd412ac4f6bb31ebb3b1dd91144881)

commit 1f798ce1e950b160041a75fcc21c5218f6418513
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Oct 2 18:19:38 2013 +0100

    Player: Increase OpenFile timeout to allow playing encrypted isos on a remote FE
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 8945e71ed5334f08b21f177a37c7da8c8c2f57c6)

commit e3f8c8f674f5e00b74de1ab7686400c73cfd0ff3
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 17:38:31 2014 +1000

    Do not wait too quickly when reaching EOF
    
    DVD Ringbuffer seeks a lot, in small files, causing the readahead to pause for one second once it reaches EOF, and preventing readsdesired to be updated. As a consequence WaitForReadsAllowed would timeout.
    Also, after a seek, make sure the readahead thread is woken up, this reduce next read time by up to 1s.
    
    Fixes #12205
    
    (cherry picked from commit 90730e55cebf249ffb5c9cf26df2c8688f31eda4)

commit ffc5972e6c1b5a6b612d185f5fd66a991a67e424
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 00:38:44 2014 +1000

    Bump ABI

commit 7292b98b24514ce19e7a1c4d937c34757af98a3d
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Thu Jul 10 00:18:09 2014 +1000

    Mythmetadata: Simplify code with a GetGrabber utility member
    
    (cherry picked from commit aef97a42b3fb577dcb0d83e72c24ec3ac27602fc)

commit 7e8330f6764e460f11df390924dece5daefa3b35
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 23:50:02 2014 +1000

    Mythmetadatalookup: Make sure we follow the exact same logic as we had prior e82754a7041d3988a8361535460d12a47742c65b
    
    (cherry picked from commit 3c2a386e504568186209e47f0cf70372cf51f626)

commit 6151169b21af661fc7c695b63fd112e5079ded99
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 23:15:28 2014 +1000

    Use myth coding style
    
    (cherry picked from commit fc8584e8b13adb31cb82290e30fa579648646ed9)

commit f883275af978087dbb76cc693ccda287c36c6ab9
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 22:56:56 2014 +1000

    Make sure to pass season and episode to tv grabber.
    
    Fixes #12203
    
    (cherry picked from commit 371acd4f29ea059838d9a414fa09cca0994a5d65)

commit 1489019374fdeda953548d5d4920ecda85c91288
Author: Raymond Wagner <rwagner@mythtv.org>
Date:   Mon Jul 7 23:57:44 2014 -0400

    Store grabber used along with inetref to ensure correct reuse.
    
    This stores the name of the grabber that returned an inetref, prepended
    to the beginning of the inetref, separate by a colon (:). This is then
    used to ensure that same grabber, or one that understands its indexing,
    is called any time that inetref is used. This resolves an issue where an
    inetref from the Television grabber would subsequently be used to pull
    data through the Movie grabber, resulting in incorrect information.
    
    This adds a caching mechanism for the grabbers, such that the available
    grabbers do not need to be rescanned each time an inetref is to be used.
    This cache is expired after 60 seconds, or any time the user enters the
    metadata grabber selection screen.
    
    Fixes #12149
    
    (cherry picked from commit e82754a7041d3988a8361535460d12a47742c65b)
    
    Conflicts:
    	mythtv/libs/libmythbase/mythversion.h
    	mythtv/libs/libmythmetadata/libmythmetadata.pro

commit 2d2530cd4250e1617c64b72a7ad9b8b3801ef40b
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 18:51:15 2014 +1000

    Mythmedatalookup: set PYTHONPATH so mythmedatalookup can be started on its own
    
    (cherry picked from commit ab82af34abe17faa927c7ce0b8a81a5fe365773c)

commit dbdfc4ff19ea2ec5cf0b140643ff6a0eebcafc8e
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 15:56:59 2014 +1000

    Ignore DMG mounted image
    
    If it’s a remote Time Machine Backup that is mounted, it would block for a very long time as parsing those drives take forever
    
    (cherry picked from commit 19f9c37ced6f315c2dfb42c38821a8d4ef7a8bfe)

commit 6435215dbb2e3e7f60cbfa28a14e3d0f412301df
Author: Richard Hulme <peper03@mythtv.org>
Date:   Thu Jul 10 00:18:53 2014 +0200

    Fix description text for 'Upcoming Recordings' in classic menu theme.
    (cherry picked from commit e2def5c55659b8f0427192130d163ebcfb26aa75)

commit eeda1f8f573a9747acead568bfb716df2f32afcd
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jun 25 11:31:43 2014 +1000

    Fix PiP when using OpenGL output
    
    Viewport must be of the output window, not of the main video currently playing
    
    (cherry picked from commit bbcecc404e5fad4972eca627374dcafbc8011c94)

commit f4195b2eb88296523351813c29933e81e6bd851f
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Wed Jul 9 09:19:07 2014 +1000

    bump FFmpeg to 1.2.7

commit fb9128b0512bb2473aefc1a6e87440a55f415171
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Jun 23 18:32:54 2014 +0200

    Update for FFmpeg 1.2.7
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit c45e4920ad25d2ebb0ac11f972558106966afee7
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Jun 15 00:49:02 2014 +0200

    avformat/mpc: attempt to allocate a packet that is not smaller than the data inside it
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 86a9370e2b91d67375e66a06d6eb573b5a017775)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 31aef53626a4914c9465dca22ce75e76299b508f
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Jun 8 14:30:30 2014 +0200

    avcodec/alsdec: Clear MPEG4AudioConfig so that no use of uninitialized memory is possible
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 6e6bd5481cf42a9765c492c77754d4633092cece)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 87b0230ef50c6f3ae5819d404a0206b65c41ea5c
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sat Jun 7 12:03:31 2014 +0200

    avformat/flvenc: Do not allow creating h263/mpeg4 in flv without unofficial format extensions being enabled.
    
    Found-by: Jean-Baptiste Kempf <jb@videolan.org>
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 74760883fcb4443d105814ed246b3cf51d7e9dca)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 2d88dbd22be3caa08306f999eaf544e880aa48c8
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 05:19:09 2014 +0200

    avcodec/mss4: Fix () in MKVAL() macro
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit cf7ff0146c76b93c32edf5230a28b9590acf5105)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 8d807213309e6b6d8cbe8c79a4c96905ce3fa970
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 05:18:47 2014 +0200

    avcodec/mss34dsp: fix () in SOP* macros
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 6e720c5c815e510188a0bda654662383f2c48050)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit cbb74c1c439450f887c4ca1b971b5c58d2810594
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 05:17:51 2014 +0200

    avcodec/mlpdec: fix () in MSB_MASK() macro
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit fa160af08b6f42f17e93124aef86e3f6eec70d51)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 48cb345c03a669d13f54465cca4a74922cc70322
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 03:27:56 2014 +0200

    avcodec/golomb-test: fix () in EXTEND() macro
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 97e6b5ee3a16fee7d130f19f4dcee030f14d91cf)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 26ba790bb4905c0890fa9155c6ba686fc17dc079
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun May 25 03:19:47 2014 +0200

    avcodec/aac: fix () in IS_CODEBOOK_UNSIGNED macro
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit fa915d4193e13187773c500b80c7df6baeb22c3b)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit e26bec8a48d27316114689cba7903436e9405ba3
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed May 21 03:02:06 2014 +0200

    avcodec/libvorbisenc: dont add the duration to AV_NOPTS_VALUE
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 19e66c7232d96e4ae8f05b52da2b84dfaa4e4da3)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 6deeb7675355fa430154c67d63a369da9c3cb8cb
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue May 20 05:23:52 2014 +0200

    avutil/cpu: force mmx on selection of higher x86 SIMD features
    
    Fixes various runtime failures with manually set flags that represent no
    existing CPU
    
    Fixes Ticket3653
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 6310eb8010b7a3b3016e297132380cbd4e3d2d10)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 9a89652241d88426161a6f610e3545f352424b5e
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon May 19 06:19:23 2014 +0200

    avcodec/diracdec: move mc buffer allocation to per frame
    
    Fixes out of array accesses for non default buffers with large strides
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 4a30f08505a4e85718896ff233c97be41a9754ca)
    (cherry picked from commit 9c9fc79d9237d28e33161cb2e75082d8ad232b2e)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 8034a717f08a5b3bcb36e62ad4f59f52aae7fbc5
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Apr 28 04:01:50 2014 +0200

    avfilter/graphdump: Fix pointer to local outside scope
    
    Fixes CID1194435
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 18af0ce62da322176f7bd283b85314d2f41bee2c)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit f9b07037530bba797bafe9b7756585ae5c457eec
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Apr 27 05:32:56 2014 +0200

    avcodec/mjpegdec: Fix undefined shift
    
    Fixes CID1194388
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit b4329605289e25bb071ec1c1182bf25fc83b09aa)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit c3109ab2898946c5c8a69156d0c58851e49fe212
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Apr 27 03:45:12 2014 +0200

    ffmpeg_filter: fix pointer to local outside scope
    
    Fixes CID1206652
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 09b16619d33ddf93005060d0782f28a1c1cbb7f6)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 6da1833cc60a2fb6a90245207b979f8a1d227b33
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Thu Apr 24 01:25:46 2014 +0200

    swresample: fix AV_CH_LAYOUT_STEREO_DOWNMIX input
    
    Fixes Ticket 3542
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 291d464161a5bf3b566bc147f83e4242b0c18d74)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit a4016354b4261c2dcb678c6abbec33681beb1419
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 23 21:47:48 2014 +0200

    avformat/h263dec: Fix h263 probe
    
    The code was missing 1 bit in the src format
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit fc145e576a443bfc89efdf35b91fd3c9ca0d8388)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 8db69da71a80e3c69f0086244ced8c1e534a7d94
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 23 06:04:50 2014 +0200

    avformat/mux: Check for and remove invalid packet durations
    
    Fixes assertion failure
    Fixes Ticket3575
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit dc6a17cf74a90e41d70ea1753cdb70c0a5b2ced8)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit c38807fda2c3dd533eff23c65237afdd94b6b747
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Jun 23 14:45:47 2014 +0200

    avutil/lzo: add asserts to be double sure against overflows
    
    These asserts cannot fail since d6af26c55c1ea30f85a7d9edbc373f53be1743ee
    
    Based-on: ccda51b14c0fcae2fad73a24872dce75a7964996
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit cf2b7c01f81c1fb3283a1390c0ca9a2f81f4f4a8)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 34f75574dd644f691442b088c3a9b047da1d1cb6
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Fri Jun 20 03:15:28 2014 +0200

    avutil/lzo: Fix integer overflow
    
    Embargoed-till: 2014-06-27 requested by researcher, but embargo broken by libav today (git and mailing list)
    
    Fixes: LMS-2014-06-16-4
    Found-by: "Don A. Bailey" <donb@securitymouse.com>
    See: ccda51b14c0fcae2fad73a24872dce75a7964996
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit d6af26c55c1ea30f85a7d9edbc373f53be1743ee)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit b1560f20677924316fc9efe8eb36176b7ffe6504
Author: Xi Wang <xi.wang@gmail.com>
Date:   Fri Mar 15 06:59:22 2013 -0400

    lzo: fix overflow checking in copy_backptr()
    
    The check `src > dst' in the form `&c->out[-back] > c->out' invokes
    pointer overflow, which is undefined behavior in C.
    
    Remove the check.  Also replace `&c->out[-back] < c->out_start' with
    a safe form `c->out - c->out_start < back' to avoid overflow.
    
    CC: libav-stable@libav.org
    
    Signed-off-by: Xi Wang <xi.wang@gmail.com>
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>
    (cherry picked from commit ca6c3f2c53be70aa3c38e8f1292809db89ea1ba6)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 86048f1203b4e8065a9f3ef264c296f6887cd0d3
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Apr 21 11:33:17 2014 +0200

    avfilter/filtfmts: Support dynamically allocated in/outputs
    
    Fixes crash
    Fixes Ticket3468
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 59c7615d58b5b7ea9caff2c8c774677973eb4f1c)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 127b0ddb7e3438d7760dbf9517aa08d266e6b9fc
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    iavcodec/vc1dec: Fix missing {}
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit cb53beb81a5b9192c79de401f1e1e13fadddc429)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit b0e5dad86840ecd6e488f9efe50d421b4d72a2a1
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    avfilter/vf_deshake: fix loss of precission with odd resolutions
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 73734282e0e4df92269984ee1671424e39249481)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 4064035e00c39ebd24bf17e0f3fb04d5fb0f9537
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:55:13 2014 +0200

    avcodec/g723_1: add assert to help static code analyzers
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 1457f3fd90e17745791354fbb87899fc4803085a)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit e8ada5f69661224c984ec7c0c1d5e64ab0c0f910
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    avcodec/diracdec: fix undefined behavior with shifts
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit b8598f6ce61ccda3f2ff0c730b009fb650e42986)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit eb75408e66b6396f65c4288095133082b550d914
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    avformat/mpegts: Remove redundant check
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit ff6fa0b4b980fc5b9f7653d7b159ae02c3d95210)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 19546857e9d66e9e3728ff2bd6bb20c99f8db93b
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 02:06:37 2014 +0200

    avcodec/mjpegen: Fix declared argument size
    
    Fixes part of Ticket3466
    Found-by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 256f530603ef3838a712a4fcd737b46b7bce455e)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 023a2b219d75ae75d8e64a5de0bff2e1e914bb62
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 16 01:55:08 2014 +0200

    swscale/swscale: fix srcStride/srcSlice typo
    
    Fixes part of Ticket3466
    Found by: Andrey_Karpov / PVS-Studio
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 14fa7fc6a81d5e59e05243cdc92108eab1b138ac)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit dd1a76d33a54a6cd63c803827120ccbe128402be
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Apr 14 17:29:27 2014 +0200

    avcodec/x86/idct_sse2_xvid: fix non C99 inline function
    
    Found-by: Matt Oliver <protogonoi@gmail.com>
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 46d5625f44185271862337d61cd246fd569c42a4)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 532219c8ec50b2828e4395537f06b29d3a5533e2
Author: Anthoine Bourgeois <anthoine.bourgeois@gmail.com>
Date:   Wed Apr 9 12:18:32 2014 +0200

    avcodec/dirac_arith: Fix build with PIC and stack-check options
    
    Fixes Ticket3540
    
    The function dirac_get_arith_bit in libavcodec/dirac_arith.h can't be
    built with PIC and check-stack because the asm code needs 6 registers
    and PIC and check-stack options take 1 each and x86 is quite limited
    in this area.
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit d8ab7f31dd819f7b3e0d460a2fa4261aaae87b98)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 054c75104fea99e9c88f23c2acc186d89e0ebd96
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 8 18:12:12 2014 +0200

    swscale/x86/swscale_template: loose hardcoded dstw_offset
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit f6759d9ad4a8b71e6f212ca4f1e7da9fa56d3298)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 398e045e4250172ed8ac36052e556bbe5a861226
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 8 00:29:26 2014 +0200

    swresample/resample: use av_malloc_array() where appropriate
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 5027f39712fdce25b9008e72d52e5abfeefd5fe6)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit e506ac106b0b14af32adee1e3fd8f512d4ac9968
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 8 00:29:06 2014 +0200

    swresample/dither: use av_malloc_array()
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit a5290cb1ac047851563da7aca06569e3ada55f79)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 887273a16052def543beb2f2f55f0e44d890fb88
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 8 00:19:07 2014 +0200

    swresample/resample: Limit filter length
    
    Related to CID1197063
    
    The limit choosen is arbitrary and much larger than what makes sense.
    It avoids the need for checking arithmetic operations with the length for overflow
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit f9158b01d0f3effb58e87fb07db0382bc1e47de5)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 5a52808474b7f63c073bdbb4193d606c7b0cf697
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Apr 6 04:01:24 2014 +0200

    avcodec/msrle: check return code for success before use
    
    The check is possibly redundant, but better to check for errors
    that dont occur than to skip the check and crash
    
    Fixes CID1197060
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 754f84663e8b3a88fa2e953b195d59230393fb8d)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit c99f73ba1a3e1d51c18148a5c29a7eac73a11853
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sat Apr 5 21:34:03 2014 +0200

    avcodec/wma: use av_freep(), do not leave stale pointers in memory
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit d167faafe9dfa0b82bebb267c3c4e5fa5286bd67)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 828d7ef03b3c735cd22b86d9752a2cc71929a751
Author: Lukasz Marek <lukasz.m.luki@gmail.com>
Date:   Fri Apr 4 19:28:45 2014 +0200

    lavu/opt: validate range before dereference
    
    This change make error handling simplier.
    av_opt_freep_ranges may be called when some ranges are NULL,
    for example after memory allocation fail.
    
    Signed-off-by: Lukasz Marek <lukasz.m.luki@gmail.com>
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 3aac5fcfa9d3748659d78ab2a66d0ccce22cfd4f)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 5869ae06f47a9fed73e7340bcdc5435cb16a4960
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Fri Mar 28 00:03:38 2014 +0100

    avcodec/libx264: move where x264opts is applied down so it isnt overridden by avctx & defaults
    
    fixes x264opts opengop=1
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 64b79141bdfdffaa9fda69eecce140473d0a9a18)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 2faa9a0ab84ff1947e633296d93149812099a649
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Mar 26 18:09:23 2014 +0100

    avcodec/h264_mp4toannexb_bsf: prepend global headers before any in stream parameter sets
    
    Fixes h264_mp4toannexb_bsf_failure.mkv
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 289b149cecb381522cc9ccdf382825330169c655)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 93c91ddcf079b3dd50a29fb514678b197e312763
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Mar 25 00:15:52 2014 +0100

    avcodec/x86/mpegvideoenc_template: fix integer overflow
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 1aa2f99a4e86e590bc1b39a29fc7734189c5a839
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Mar 24 05:01:32 2014 +0100

    swscale/swscale: fix integer overflow
    
    Should fix fate failure with clang ftrapv
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit c9c0451224fd7bc38b4e135e99f114f80c1ae67f)
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit ef0a049d3506afa254a698e0f041e002def3af7e
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Sat Jun 21 19:35:06 2014 +0200

    Show duration for large asf files as written in the file header.
    
    Fixes ticket #3428.
    (cherry picked from commit e3fd263f0b73e4425192d6dd1ab18027ecaa35db)
    
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit ec938e9390e9cef806d69e44de29ad2cf6982543
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Fri Jun 20 01:58:14 2014 +0200

    Revert two backports to release/1.2 that broke fate.
    
    Revert "ff_id3v2_read: add option to limit ID3 magic number search"
    Revert "ff_id3v2_free_extra_meta: set the pointer pointing to extra_meta to NULL"
    
    This reverts commit 7f8aa37bc3666d060b3eb2baa02fcea3597a22fd.
    This reverts commit 5219e20d58e15305e188ba60a75bfc37a1f82341.
    
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 6d743290d8ec2c399741404ad2e2d9482c32263f
Author: Martin Storsjö <martin@martin.st>
Date:   Fri Jun 6 12:03:09 2014 +0300

    adpcm: Write the proper predictor in trellis mode in IMA QT
    
    The actual predictor value, set by the trellis code, never
    was written back into the variable that was written into
    the block header. This was accidentally removed in b304244b.
    
    This significantly improves the audio quality of the trellis
    case, which was plain broken since b304244b.
    
    Encoding IMA QT with trellis still actually gives a slightly
    worse quality than without trellis, since the trellis encoder
    doesn't use the exact same way of rounding as in
    adpcm_ima_qt_compress_sample and adpcm_ima_qt_expand_nibble.
    
    Fixes part of Ticket3701
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit fa8f060b75bf9074792a0f9ff4ed002652ef62b8)
    
    Conflicts:
    	tests/ref/acodec/adpcm-ima_qt-trellis
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 2a3e0b91ffd450a8895c4fe1861a6b4df9bbd869
Author: Martin Storsjö <martin@martin.st>
Date:   Thu Jun 5 11:56:10 2014 +0300

    adpcm: Fix trellis encoding of IMA QT
    
    This was broken in 095be4fb - samples+ch (for the previous
    non-planar case) equals &samples_p[ch][0]. The confusion
    probably stemmed from the IMA WAV case where it originally
    was &samples[avctx->channels + ch], which was correctly
    changed into &samples_p[ch][1].
    
    Fixes part of Ticket3701
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit a32765c4252eb106a2ade543026ef6f59e699bfa)
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 28d615e58890edecdc4bddbe7a82f563805b3081
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Thu May 29 08:41:15 2014 +0200

    avcodec/utvideodec: Increase vlc len
    
    Fixes a regression since fb3e380 similar to ticket #2661,
    reported by fluffrabbit at aol dot com.
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 673716c54b39eba9579a38ad222130e3f9549167)
    
    Conflicts:
    	libavcodec/utvideodec.c
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 8d5cf2a69c2c988960efd346069ced53fdb9ec58
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Jun 4 05:04:13 2014 +0200

    avformat/avidec: allow rounding errors between scale/rate and timebase
    
    Fixes Ticket3670
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    (cherry picked from commit 571ab8344a9a2864d22d01af41283cee9328b927)
    
    Conflicts:
    	libavformat/avidec.c
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>

commit 2b88a8a952249a7fc85e4cf6b6d6a79858546bc2
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Fri Mar 7 19:31:42 2014 +0000

    Fix 0b9470c Fix fileringbuffer locking...
    
    Commit 0b9470c (Fix fileringbuffer locking up on read()) modified
    FileRingBuffer::safe_read to use fstat() to check the file size
    before reading.  The new code compares (internalreadpos + tot)
    with the reported size.  This is mostly correct except when
    MythPlayer::SwitchProgram detects the transition across a livetv
    programme boundary.  In this case internalreadpos holds the read
    position for the old file until the decoder calls FileChanged().
    
    This patch includes readAdjust (set by SetAdjustFilesize()) to
    correctly determine the current read position in the file.
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 363361a9e26322d9e6a87e17effc50add8653533)

commit 4d7b305afc071addb06b566ac1d9fbadd431c741
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:   Wed Jul 4 16:39:13 2012 +0200

    Player: Don't call DoneDisplayingFrame for PiP until next frame is ready
    
    When displaying 'pictute in picture' (PiP), VideoOutput::ShowPIP
    composites the PiP windows onto the main video frame.  To do so, it uses
    the player's GetCurrentFrame method to obtain the most recently displayed
    PiP frame.  However, MythPlayer::DisplayNormalFrames immediately releases
    the last frame displayed back to the decoding queue.  Consequently when
    GetCurrentFrame calls GetLastShownFrame to obtain that frame it may have been
    overwritten by the decoder thread.
    
    This patch defers calling DoneDisplayingFrame if the player is a PiP
    player so that future calls to GetLastShownFrame return an intact frame.
    
    Fixes #10878
    
    Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
    Signed-off-by: Jean-Yves Avenard <jyavenard@mythtv.org>
    (cherry picked from commit 49df62f1a76f0e617208e261a09f5f8a634b3ce9)
    
    Conflicts:
    	mythtv/libs/libmythtv/mythplayer.cpp

commit fba8e800c98356bd06ee03087b6b421f94610490
Author: Stuart Morgan <smorgan@mythtv.org>
Date:   Fri Jun 27 14:05:25 2014 +0100

    Sync minilzo from 2.03 to 2.07.
    
    This commit is UNTESTED. I don't have any framegrabbers. However
    there's no reason it shouldn't work as it's just a minor version bump.
    
    Refs LMS-2014-06-16-1, CVE-2014-4607
    
    (cherry picked from commit b99f21b2791c4685fb48460a165a7cd804256f03)
    Signed-off-by: Stuart Morgan <smorgan@mythtv.org>

commit dbb4ef308863a837c1c0617a7a478fb2fe309757
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Mon Jun 30 13:13:11 2014 -0700

    Audio: Abort Drain if audio device is in pause
    
    Prevent deadlock in MythMusic
    
    (cherry picked from commit d6663a5498f1ba1147a801dd4902b779b3afd1f8)

commit 74d812d1f80cac064ce2ebb7f8164f2a5e825708
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 6 10:48:19 2014 +1000

    Fix memory leak
    
    Coverity CID 1224482
    
    (cherry picked from commit e16a9b0072c068a42759a78b4633d656b3627453)

commit cebafcf4131c6dff59a6234c5e35408719749890
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 6 08:57:58 2014 +1000

    Properly allocate VDPAU PiP video buffers and fix memory leak
    
    The video buffers were never freed
    
    (cherry picked from commit 548aaf78373cf0360b759b633df10c3690e3f06b)

commit 3b0f5790c9081a17a019ded726ae497bd5c6f62c
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sun Jul 6 01:25:21 2014 +1000

    Don’t attempt to play the video streams for mp3, flac, off and m4a container.
    
    FFmpeg incorrectly detects the artwork in those file as MJPEG, which myth would then attempt to play.
    A nicer fix would be to display that image instead.
    
    Fixes #11597
    
    (cherry picked from commit 9df8bb364ba56cc34d34af40e5980110193bd334)

commit 418deb69b5f299f18840d55be878714bcefb57a0
Author: Jean-Yves Avenard <jyavenard@mythtv.org>
Date:   Sat Jul 5 23:37:35 2014 +1000

    Ignore IPv6 settings value if it’s invalid
    
    This would otherwise cause the backend to always believe the requested host was local
    
    Fixes #12172
    
    (cherry picked from commit de991d98754bd50045d65080592828631786e161)
